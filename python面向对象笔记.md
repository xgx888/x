# python面向对象笔记

## 面向对象简介

### 1.什么是面向对象：

1.面向对象是一种编程范式，它将程序中的数据和操作封装在一个对象中，从而使得程序更加模块化、可重用和易于维护。在面向对象编程中，对象是类的实例化，类是一种抽象的数据类型，它定义了一组属性和方法。

2.面向对象编程的核心思想是封装、继承和多态。封装是将数据和操作封装在一个对象中，隐藏对象的内部实现细节，只暴露必要的接口给外部访问。继承是通过继承父类的属性和方法，来创建一个新的子类，子类可以重写父类的属性和方法，从而实现更加灵活的功能。多态是指同一个方法可以根据不同对象的实现方式，实现不同的行为。

### 2.面向对象的技术简介（大致内容）

- **类(Class):** 用来描述具有相同的属性和方法的对象的集合。它定义了该集合中每个对象所共有的属性和方法。对象是类的实例。
- **方法：**类中定义的函数。
- **类变量：**类变量在整个实例化的对象中是公用的。类变量定义在类中且在函数体之外。类变量通常不作为实例变量使用。
- **数据成员：**类变量或者实例变量用于处理类及其实例对象的相关的数据。
- **方法重写：**如果从父类继承的方法不能满足子类的需求，可以对其进行改写，这个过程叫方法的覆盖（override），也称为方法的重写。
- **局部变量：**定义在方法中的变量，只作用于当前实例的类。
- **实例变量：**在类的声明中，属性是用变量来表示的，这种变量就称为实例变量，实例变量就是一个用 self 修饰的变量。
- **继承：**即一个派生类（derived class）继承基类（base class）的字段和方法。继承也允许把一个派生类的对象作为一个基类对象对待。例如，有这样一个设计：一个Dog类型的对象派生自Animal类，这是模拟"是一个（is-a）"关系（例图，Dog是一个Animal）。
- **实例化：**创建一个类的实例，类的具体对象。
- **对象：**通过类定义的数据结构实例。对象包括两个数据成员（类变量和实例变量）和方法。

### 3.类与对象

#### （1）类（class）的定义：

```
class ClassName:
    <statement-1>
    .
    .
    .
    <statement-N>
```

**两个下划线开头，声明该方法为私有方法，只能在类的内部调用 ，不能在类的外部调用**

```
class Person:
    def __init__(self, name, age):
        self.name = name
        self.age = age
        print('我爱你')
```



#### （2）类对象:

#### 类与对象的联系：

类与对象简单地说就是人类和我们个体，其中人类就是‘’类‘’，我们每个个体就是‘’对象‘’

类是一种抽象的数据类型，它定义了一组属性和方法，描述了类对象的共同特征和行为。

对象是类的实例化，是具体的数据实体，具有类所定义的属性和方法。

对象是类的实例化，是具体的数据实体，具有类所定义的属性和方法。

#### 代码实例:

```
class Person:
    def __init__(self, name, age):
        self.name = name
        self.age = age
        print('我爱你')
    
    def eat(self):
        print(self.name + " 在吃饭")
    
    def sleep(self):
        print(self.name + "在睡觉.")
    
    def work(self):
        print(self.name + " 在工作.")

```

这个类名为Person，它有两个属性name和age，以及三个方法eat、sleep和work。self参数是指向对象本身的引用，可以在方法内部使用来访问对象的属性和方法，且在定义方法是必须要加上self。

__init__方法是特殊的方法，它在创建对象时会被直接调用。

**1.创建一个person对象：（可以创建多个但前提的名称不同）**

```
p = Person("阿杰", 20)
#直接调用__init__显示"我爱你"
```

这个例子创建了一个名为p的Person对象，它的name属性为"阿杰"，age属性为20。

**2.通过属性和方法来访问和修改对象的状态：**

```
#访问
print(p.name)  # 输出"阿杰"
p.sleep()  # 输出"阿杰 在睡觉"


#修改并访问
p.name = "阿兰"
p.sleep()  # 输出"阿兰在睡觉."

```

### 4.父类与子类

#### 关系

在Python中，一个类可以从另一个类继承，被继承的类称为父类， 继承的类称为子类。

子类可以继承父类的属性和方法，并且可以添加自己的属性和方法。
子类也可以重写父类的方法，从而改变其行为。

#### 代码实例

```
class A:
    def __init__(self, name):
        self.name = name
    def speak(self):
        return'我爱你'

class B(A):#(通过写入括号继承父类的属性和方法)
    def speak1(self):
        return'我不爱你'    

        

b=B("阿杰")#运用的是父类的name属性
print(b.name)#输出阿杰
print(b.speak())#输出我爱你（运用父类的方法）
print(b.speak1())#输出我不爱你（运用自身的方法）

a=A('阿兰')
print(a.name)#输出阿兰
print(a.speak())#输出我爱你

```

## 面向对象的特征：

#### 1.单继承与多继承：

##### （1）单继承：

在Python中，单继承是指一个子类只能继承一个父类的属性和方法。Python中的类可以通过继承来扩展父类的功能，并添加自己的属性和方法。

**简单理解是：父类与子类**

##### （2）多继承：

多继承是指一个类可以同时继承多个父类的特性和方法。

多继承的语法非常简单，只需要在定义类时在类名后面添加括号，括号中写上要继承的所有父类的名称，用逗号隔开即可。



下面的代码定义了一个名为C的类，它同时继承了父类A和B：

```
class A:
    def __init__(self, name):
        self.name = name
    def speak(self):
        return'我爱你'

class B():#(通过写入括号继承父类的属性和方法)
    def speak1(self):
        return'我不爱你'    
class C(A,B):#(通过写入括号继承父类的属性和方法)
    def speak2(self):
        return'我喜欢你'    

        

c=C("阿杰")#运用的是父类A的name属性
print(c.name)#输出阿杰
print(c.speak())#输出我爱你（运用父类A的方法）
print(c.speak1())#输出我不爱你（运用父类B的方法）
print(c.speak2())#输出我喜欢你（运用自身的方法）


```

#### 2.封装

##### 概念与目的：

Python封装是一种面向对象编程的概念，它指的是将数据和方法封装在一个类中，并且对外部隐藏其实现细节，只暴露必要的接口供外部访问。

封装的目的是为了保护数据的完整性和安全性，防止外部程序意外修改或破坏数据，同时也提高了代码的可维护性和可读性。

简单理解就是：类的方法是不与外部直接联系大的，需要使用类创建对象后进行调用

#### 3.多态

Python多态是一种面向对象编程的概念，它指的是同一种行为或方法可以在不同的对象上产生不同的结果。换句话说，多态允许不同的对象对同一方法做出不同的响应。这种特性可以提高代码的灵活性和可扩展性，使程序更加易于维护和扩展。

##### 实现多态的方式：

（1）方法重写：方法重写是指在子类中重新定义父类的方法，从而实现对该方法的重载。这种方式可以让子类对父类的方法进行扩展或修改，从而实现多态

**理解：其实跟继承差不多的**

```
class A:
    def speak(self):
        return'我爱你'

class B():#(通过写入括号继承父类的属性和方法)
    def speak1(self):
        return'我不爱你'    
class C(A,B):#(通过写入括号继承父类的属性和方法)
    def speak2(self):
        return'我喜欢你'    

        

c=C("阿杰")#运用的是父类A的name属性
print(c.name)#输出阿杰
print(c.speak())#输出我爱你（运用父类A的方法）
print(c.speak1())#输出我不爱你（运用父类B的方法）
print(c.speak2())#输出我喜欢你（运用自身的方法）
```

（2）方法重载：

方法重载是指在同一类中定义多个同名的方法，但是它们的参数列表不同。这种方式可以让同一个方法名实现不同的功能，从而实现多态。

```
class A:
    def speak(self):
        return'我爱你'


class B(A):#(通过写入括号继承父类的属性和方法)
    def speak(self):
        return'我不爱你'    
class C(A):#(通过写入括号继承父类的属性和方法)
    def speak(self):
        return'我喜欢你'    

c=C()
print(c.speak())#输出我喜欢你）

b=B()
print(b.speak())#输出我不爱你
```



## 重写和与调用

#### 1.python重写（覆盖）

子类可以重写（覆盖）父类的方法，以实现自己的功能但是有以下注意点。

1. 子类的方法名与父类的方法名相同。
2. 子类的方法参数与父类的方法参数相同。
3. 子类的方法返回值类型与父类的方法返回值类型相同或者是父类方法返回值类型的子类型。

**简单理解就是：继承**

```
class A:
    def make_sound(self):
        print("我喜欢你")

class B(A):
    def make_sound(self):
        print("我不喜欢你")

b= B()
b.make_sound()  # 输出"我不喜欢你"

```

#### 2.python调用

调用父类的方法有两种方式

（1）使用super()函数调用父类的方法。

```
class A:
    def __init__(self, name):
        self.name = name    
    def eat(self):
        print(self.name+"我不喜欢你")

        

class B(A):
    def __init__(self, name, age):
        super().__init__(name)#实现运用父类的name属性
        self.age=age    
    def bark(self):
        print(self.name + "我喜欢你")

        

b= B("阿杰", "20")
b.bark()#阿杰我喜欢你

```

（2）直接使用父类的类名调用父类的方法

```
class A:
    def __init__(self, name):
        self.name = name    
    def eat(self):
        print(self.name+"我不喜欢你")

        

class B(A):
    def __init__(self, name, age):
        A.__init__(self, name)#直接调用父类
        self.age=age    
    def bark(self):
        print(self.name + "我喜欢你")

        

b= B("阿杰", "20")
b.bark()#阿杰我喜欢你

```



## 其他知识

### dir内置函数

减少死记硬背，在忘记怎么调用的函数怎么写的时候可以用dir打开使用方法查找

使用该函数可以查看对象内的所有属性及方法

dir(对象)：可以查看python中针对对象提供的内置方法以及属性

### del方法和对象的生命周期

在销毁对象前最后做的一些事（或是声明或是结束状态）

当一个对象被从内存中销毁时，会自动调用__del__方法

如果希望对象在被销毁之前，再做一些事情，可以考虑一下del方法

一个对象的del方法一旦调用，生命周期结束，不能再使用

- 

```
class A:
    def __init__(self, name):
        self.name = name
        print(self.name+"我喜欢你")
    def __del__(self):
        print(self.name+"我不喜欢你")      

a= A("阿杰")
del a#（如果没有这个只会单独显示我喜欢你而不会显示我不喜欢你）

```

### str方法定制变量输出信息

使用print输出对象变量时，希望看到一些自定义内容

__str__方法必须返回一个字符串

```
class A:
    def __init__(self, name):
        self.name = name
        print(self.name+"我喜欢你")
    def __del__(self):
        print(self.name+"我不喜欢你")
    def __str__(self):
       return(self.name+"我爱你")

a= A("阿杰")
print(a)#（如果没有这个只会单独显示我喜欢你而不会显示我爱你）

```

